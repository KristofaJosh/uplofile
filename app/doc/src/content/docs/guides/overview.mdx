---
title: API Reference
---

# API Reference

Uplofile exposes a small set of composable primitives.

## Root

Sets up context and manages items state.

```tsx
<FileUploader.Root
  multiple
  name="images" // name for HiddenInput JSON
  maxCount={undefined}
  initial={[]}
  upload={(file, signal, setProgress) => Promise.resolve({ url: URL.createObjectURL(file) })}
  removeMode={"optimistic" /* or "strict" */}
  onRemove={(item, signal) => {/* server delete */}}
  onChange={(items) => {/* reflect/save state outside */}}
>
  {/* children */}
</FileUploader.Root>
```


## Trigger

Opens the native file picker. Supports children or a render‑props API.

```tsx
<FileUploader.Trigger>
  <button type="button">Select file(s)</button>
</FileUploader.Trigger>

<FileUploader.Trigger
  render={({ isUploading, totalProgress, items }) => (
    <button type="button">
      {isUploading ? `Uploading ${totalProgress ?? 0}%` : "Select images"}
      <span> ({items.length})</span>
    </button>
  )}
/>
```

## Preview

Renders your custom UI for items (thumbnails, progress, actions).

```tsx
<FileUploader.Preview
  render={({ items, actions }) => (
    <div>{/* ... */}</div>
  )}
/>
```

- Item fields: `uid, name, url?, previewUrl?, status, progress?, error?`
- Actions: `cancel(uid)`, `retry(uid)`, `remove(uid)`

## HiddenInput

Adds a hidden input with JSON of successful uploads: an array of items like name, url and optional id.

```tsx
<FileUploader.HiddenInput />
```

## Dropzone

Optional. Provides a drag‑and‑drop surface.

```tsx
<FileUploader.Dropzone>
  <div>Drop files here or click to upload</div>
</FileUploader.Dropzone>
```

## Types

```ts
import type { UploadResult } from "uplofile";
// UploadResult: { url: string; id?: string }
```
